---
title: RN小白笔
date: 2018-02-05 17:49:13
tags: 
- react native
categories: 
- 积累
---
1. 关闭ios模拟器中恼人的警告弹窗
在 index.js 中加入一行代码
>`console.disableYellowBox = true;`
2. 在Chrome中查看网络请求
在index.js(ts)中加入以下代码（***chrome需要进行跨域设置***）
>`if (__DEV__) {
    GLOBAL.XMLHttpRequest = GLOBAL.originalXMLHttpRequest || GLOBAL.XMLHttpRequest }`
3. vs code设置支持Tab键代码补全设置项
> `"emmet.triggerExpansionOnTab": true,` 

可补全jsx标签
4. react native中如果配置了`.env`,在其中添加配置项时reloadjs是取不到值的，需要重新执行`react-native run-ios`或者`react-native run-android` 来重启服务
5. react-navigation 返回并传递参数的方法
```
   navigate('Detail', {
        // 跳转的时候携带一个参数去下个页面
          callback: (data) => {
              console.log(data); // 打印值为：'回调参数'
          }
        });
```
```
const {navigate,goBack,state} = this.props.navigation;
// 在第二个页面,在goBack之前,将上个页面的方法取到,并回传参数,这样回传的参数会重走render方法
state.params.callback('回调参数');
goBack();
```
6. async 函数的断点调试方法
* 第一种 在需要打断点的地方debugger
![debugger](https://upload-images.jianshu.io/upload_images/1231991-8abffdd80646040e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
* 第二种 利用vscode的调试功能
![vscode](https://upload-images.jianshu.io/upload_images/1231991-76353f37e6c9b3f6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
7. 创建无状态组件（Stateless Functional Component）
当组件本身只是用来展示，所有数据都是通过props传入的时候，我们便可以使用Stateless Functional Component来快速创建组件。例如下面代码所示:
```javascript
import React from 'react';
const Button = ({
  day,
  increment //传入的函数
}) => {
  return (
    <div>
      <button onClick={increment}>Today is {day}</button>
    </div>
  )
}

Button.propTypes = {
  day: PropTypes.string.isRequired,
  increment: PropTypes.func.isRequired,
}
```
这种组件，没有自身的状态，相同的props输入，必然会获得完全相同的组件展示。因为不需要关心组件的一些生命周期函数和渲染的钩子，所以不用继承自Component显得更简洁。